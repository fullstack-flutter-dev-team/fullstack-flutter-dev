<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>JQTest11.html</title>
<link rel="stylesheet" type="text/css" href="css/main.css">
<!-- <link rel="stylesheet" type="text/css" href="css/style.css"> -->
<style type="text/css">
    * {
        margin-top: 15px;
    }

    body, div, span, table, th, td {
        font-size: 16pt;
    }

    #list {
        border: 1px solid gray;
        border-collapse: collapse;
        width: 800px;
    }

    #list th, #list td {
        width: 160px;
        border: 1px solid gray;
        padding: 3px;
    }

</style>
<script type="text/javascript" src="http://code.jquery.com/jquery.min.js"></script>
<script type="text/javascript" src="js/jquery.innerfade.js"></script>
<script type="text/javascript">

    // jQUERY 기본 문법
    // $();  //-- jquery 함수 
    // jquery(docoment).ready(함수정의);
    // $(document).ready(함수정의);
    // $(document).ready(function() { ... });
    // $(function() {
    // $(document).ready(function() {
    
    // $(document).ready(동작할 함수);
    // $(function() {
    $(document).ready(function() {
        console.log(">>>> jQuery 시작~!!!!");

        $("input[type=button]").click(function(){
            // 1. 입력값 가져오기
            var item = $("#item").val();   //-- 제목
            var week = $("#week").val();   //-- 요일
            var start = $("#start").val(); //-- 시작 시간
            var end = $("#end").val();     //-- 종료 시간
            var color = $("#color").val(); //-- 색상

            console.log("item : " + item);
            console.log("week : " + week);
            console.log("start : " + start);

            
            // 2. 입력값 유효성 체크
            if (item == "") {
                alert("제목을 입력하세요.");
                $("#item").focus();
                return false;
            }
            
            // 3. 일정 추가하기
            var nWeek = parseInt(week);
            var nStart = parseInt(start);
            var nEnd = parseInt(end);
            console.log("nWeek : " + nWeek);
            console.log("nStart : " + nStart);
            console.log("nEnd : " + nEnd);
            
            if (parseInt(start) > parseInt(end)) {
                alert("시간을 확인하세요.");
                return false;
            }
            
            // javascript 로 처리했던 기능을 jQuery 로 구성하면 더 간단하다.
            // 1. 모든 tr 들 중 원하는 행을 찾고(→ eq())
            // 2. 그렇게 찾은 tr 의 자식들 중(→ children())
            //    원하는 td를 찾아서(eq()) 텍스트를 삽입(→ text())하고
            //    색상(→ css())을 바꾼다.
            for (var i = nStart; i <= nEnd; i++) {
                console.log("i : " + i);

                // 확인
                //alert(i);
                //$("#list tr").eq(i).text("선택"); //-- 해당하는 열을 정적으로 바꿈
                //$("#list tr").eq(i).text(item);    //-- 내용만 동적으로 구성
                //$("#list tr").eq(i).children().text(item);    //-- 시간 ~ 셀에 내용 채워짐
                //                  ---------- td들 
                //$("#list tr").eq(i).children().eq(nWeek).text(item);

                $("#list tbody tr").eq(i).children().eq(nWeek).css("background-color", color).text(item);
            }
        });

    }); //-- $(document).ready(function() {

    
</script>

</head>
<body>

    <h2>일정[val(), text(), eq(), find(), css(), children()]</h2>
    <hr>
    
    <details open>
        <summary>일정</summary>
        <hr>

       <table id="list">
            <tr>
                <th>&nbsp;</th>
                <th>월</th>
                <th>화</th>
                <th>수</th>
                <th>목</th>
            </tr>
<tr>
        <th>11:00</th>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
    </tr>
    <tr>
        <th>12:00</th>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
    </tr>
    <tr>
        <th>13:00</th>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
    </tr>
    <tr>
        <th>14:00</th>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
    </tr>
    <tr>
        <th>15:00</th>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
    </tr>
    <tr>
        <th>16:00</th>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
    </tr>
    <tr>
        <th>17:00</th>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
    </tr>
    <tr>
        <th>18:00</th>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
    </tr>
       </table>
       <div style="margin-top: 20px;">
            <label for="item">제목</label>
            <input type="text" id="item" name="item" size="30" class="txt"/>
            <br>
            <label for="week">날짜</label>
            <select id="week" name="week">
                <option value="1">월요일</option>
                <option value="2">화요일</option>
                <option value="3">수요일</option>
                <option value="4">목요일</option>
            </select>
            <br>

            <label for="start">시간</label>
            <select id="start">
                <option value="1">11:00</option>
                <option value="2">12:00</option>
                <option value="3">13:00</option>
                <option value="4">14:00</option>
                <option value="5">15:00</option>
                <option value="6">16:00</option>
                <option value="7">17:00</option>
                <option value="8">18:00</option>
            </select>
            <br>

            <label for="end">시간</label>
            <select id="end">
                <option value="1">11:00</option>
                <option value="2">12:00</option>
                <option value="3">13:00</option>
                <option value="4">14:00</option>
                <option value="5">15:00</option>
                <option value="6">16:00</option>
                <option value="7">17:00</option>
                <option value="8">18:00</option>
            </select>
            <br>
            
            <label for="color">색상</label>
            <select id="color">
                <option value="#ff3300">빨강</option>
                <option value="#ffff33">노랑</option>
                <option value="#7799ff">파랑</option>
                <option value="#808080">검정</option>
            </select>
            <br>
            
            <input type="button" value="일정 추가하기" style="margin-top: 15px;"/> 
       </div>
    </details>
    <br>


</body>
</html>