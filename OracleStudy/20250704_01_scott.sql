--/*================[ 7월 04일(금) ]========================*/
SELECT USER
FROM DUAL;
/*
USER                          
------------------------------
SCOTT
*/


SELECT *
FROM TBL_BOARD;
/*
NO TITLE                                              CONTENTS                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         NAME                 PW                   CREATED 
---------- -------------------------------------------------- -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- -------------------- -------------------- --------
         1 피곤하다                                            근데 곧 끝나네..아쉽다.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            김한국-1             java006$             03/07/25
         2 건강관리                                            다들 건강 잘 챙기도록 합시다.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       김한국-2             java006$             03/07/25
         3 오늘은                                             점심은 먹었고, 저녁은 뭐먹지?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       김한국-3             java006$             03/07/25
         4 날씨가                                             날씨가 점점 더워지네                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               김한국-1             java006$             03/07/25
         5 수업 끝나고                                         집에 가서 존윅이나 볼까                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            김한국-4             java006$             03/07/25
         6 외롭다                                             짝꿍 없이 혼자 있어 외롭다.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         김한국-5             java006$             03/07/25
         7 장래희망                                            저는 무럭무럭 자라서 킬러가 되꺼예요.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                김한국-4             java006$             03/07/25

*/



--※ 날짜 관련 세션 설정 변경
ALTER SESSION SET NLS_DATE_FORMAT = 'YYYY-MM-DD';
-- ==>> Session이(가) 변경되었습니다.

--▣ 게시물 삭제
DELETE
FROM TBL_BOARD
WHERE NO = 6;
-- ==>>  1 행 이(가) 삭제되었습니다.

DELETE
FROM TBL_BOARD
WHERE NO = 5;
-- ==>>  1 행 이(가) 삭제되었습니다.


--▣ 게시물 등록
INSERT INTO TBL_BOARD(NO, TITLE, CONTENTS, NAME, PW, CREATED)
VALUES(SEQ_BOARD.NEXTVAL, '설문', '좋아하는 축구팀은?', '김한국-1', 'java006$', DEFAULT);
-- ==>> 1 행 이(가) 삽입되었습니다.

--▣ 게시물 삭제
DELETE
FROM TBL_BOARD
WHERE NO = 3;
-- ==>>  1 행 이(가) 삭제되었습니다.

--▣ 커밋
COMMIT;
-- ==>> 커밋 완료.

--▣ 확인
SELECT *
FROM TBL_BOARD;
/*

        NO TITLE                                              CONTENTS                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         NAME                 PW                   CREATED   
---------- -------------------------------------------------- -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- -------------------- -------------------- ----------
         8 설문                                               좋아하는 축구팀은?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 김한국-1             java006$             2025-07-04
         1 피곤하다                                            근데 곧 끝나네..아쉽다.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            김한국-1             java006$             2025-07-03
         2 건강관리                                            다들 건강 잘 챙기도록 합시다.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       김한국-2             java006$             2025-07-03
         4 날씨가                                             날씨가 점점 더워지네                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               김한국-1             java006$             2025-07-03
         7 장래희망                                            저는 무럭무럭 자라서 킬러가 되꺼예요.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                김한국-4             java006$             2025-07-03
*/

SELECT ROW_NUMBER() OVER(ORDER BY CREATED) "글번호"
     , TITLE "제목", NAME "작성자", CREATED "작성일"
FROM TBL_BOARD
ORDER BY 4 DESC;
/*

       글번호 제목                                                 작성자                  작성일       
---------- -------------------------------------------------- -------------------- ----------
         5 설문                                               김한국-1             2025-07-04
         4 장래희망                                            김한국-4             2025-07-03
         3 날씨가                                             김한국-1             2025-07-03
         2 건강관리                                            김한국-2             2025-07-03
         1 피곤하다                                            김한국-1             2025-07-03
*/

--▣ 게시물 등록
INSERT INTO TBL_BOARD(NO, TITLE, CONTENTS, NAME, PW, CREATED)
VALUES(SEQ_BOARD.NEXTVAL, '외로워도', '슬퍼도 나는 안울어', '김한국-3', 'java006$', DEFAULT);
-- ==>> 1 행 이(가) 삽입되었습니다.

--▣ 커밋
COMMIT;
-- ==>> 커밋 완료.

--▣ 확인
SELECT *
FROM TBL_BOARD;
/*
  NO TITLE                                              CONTENTS                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         NAME                 PW                   CREATED   
---------- -------------------------------------------------- -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- -------------------- -------------------- ----------
         8 설문                                               좋아하는 축구팀은?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 김한국-1             java006$             2025-07-04
         9 외로워도                                            슬퍼도 나는 안울어                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 김한국-3             java006$             2025-07-04
         1 피곤하다                                            근데 곧 끝나네..아쉽다.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            김한국-1             java006$             2025-07-03
         2 건강관리                                            다들 건강 잘 챙기도록 합시다.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       김한국-2             java006$             2025-07-03
         4 날씨가                                             날씨가 점점 더워지네                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               김한국-1             java006$             2025-07-03
         7 장래희망                                            저는 무럭무럭 자라서 킬러가 되꺼예요.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                김한국-4             java006$             2025-07-03
*/


SELECT ROW_NUMBER() OVER(ORDER BY CREATED) "글번호"
     , TITLE "제목", NAME "작성자", CREATED "작성일"
FROM TBL_BOARD
ORDER BY 4 DESC;
/*

       글번호 제목                                                 작성자                  작성일       
---------- -------------------------------------------------- -------------------- ----------
         6 외로워도                                            김한국-3             2025-07-04
         5 설문                                               김한국-1             2025-07-04
         4 장래희망                                            김한국-4             2025-07-03
         3 날씨가                                             김한국-1             2025-07-03
         2 건강관리                                            김한국-2             2025-07-03
         1 피곤하다                                            김한국-1             2025-07-03
*/

-------------------------------------------------------------------------------------------------
-------------[▣▣▣▣▣       JOIN(조인)        ▣▣▣▣▣]-------------- 
-------------------------------------------------------------------------------------------------
SELECT *
FROM EMP;
/*
     EMPNO ENAME      JOB              MGR HIREDATE          SAL       COMM     DEPTNO
---------- ---------- --------- ---------- ---------- ---------- ---------- ----------
      7369 SMITH      CLERK           7902 1980-12-17        800                    20
      7499 ALLEN      SALESMAN        7698 1981-02-20       1600        300         30
      7521 WARD       SALESMAN        7698 1981-02-22       1250        500         30
      7566 JONES      MANAGER         7839 1981-04-02       2975                    20
      7654 MARTIN     SALESMAN        7698 1981-09-28       1250       1400         30
      7698 BLAKE      MANAGER         7839 1981-05-01       2850                    30
      7782 CLARK      MANAGER         7839 1981-06-09       2450                    10
      7788 SCOTT      ANALYST         7566 1987-07-13       3000                    20
      7839 KING       PRESIDENT            1981-11-17       5000                    10
      7844 TURNER     SALESMAN        7698 1981-09-08       1500          0         30
      7876 ADAMS      CLERK           7788 1987-07-13       1100                    20
      7900 JAMES      CLERK           7698 1981-12-03        950                    30
      7902 FORD       ANALYST         7566 1981-12-03       3000                    20
      7934 MILLER     CLERK           7782 1982-01-23       1300                    10
*/

SELECT *
FROM DEPT;
/*
    DEPTNO DNAME          LOC          
---------- -------------- -------------
        10 ACCOUNTING     NEW YORK     
        20 RESEARCH       DALLAS       
        30 SALES          CHICAGO      
        40 OPERATIONS     BOSTON 
*/


SELECT *
FROM SALGRADE;
/*

     GRADE      LOSAL      HISAL
---------- ---------- ----------
         1        700       1200
         2       1201       1400
         3       1401       2000
         4       2001       3000
         5       3001       9999
*/

/*
     EMPNO ENAME      JOB              MGR HIREDATE          SAL       COMM     DEPTNO
---------- ---------- --------- ---------- ---------- ---------- ---------- ----------
      7369 SMITH      CLERK           7902 1980-12-17        800                    20 -→ DALLAS  , 1등급
      7499 ALLEN      SALESMAN        7698 1981-02-20       1600        300         30  → CHICAGO , 3등급
*/

---------------[1. SQL 1992 CODE]--------------------
-- 1. SQL 1992 CODE
--  CROESS JOIN
SELECT *
FROM EMP, DEPT;
-- → 수학에서 말하는 데카르트곱(Catersian Product)
--   두 테이블을 합친(결합한) 모든 경우의 수  ◀-- 경우의 수 확인할 경우 사용. 사용빈도가 낮음

--  EQUI JOIN : 서로 정확히 일치하는 데이터들끼리 연결시키는 결합 방법
SELECT *
FROM EMP, DEPT
WHERE EMP.DEPTNO = DEPT.DEPTNO;
/*                                                                               ▼ ▼       ▼ ▼ 
   EMPNO ENAME      JOB              MGR HIREDATE          SAL       COMM     DEPTNO     DEPTNO DNAME          LOC          
---------- ---------- --------- ---------- ---------- ---------- ---------- ---------- ---------- -------------- -------------
      7782 CLARK      MANAGER         7839 1981-06-09       2450                    10         10 ACCOUNTING     NEW YORK     
      7839 KING       PRESIDENT            1981-11-17       5000                    10         10 ACCOUNTING     NEW YORK     
      7934 MILLER     CLERK           7782 1982-01-23       1300                    10         10 ACCOUNTING     NEW YORK     
      7566 JONES      MANAGER         7839 1981-04-02       2975                    20         20 RESEARCH       DALLAS       
      7902 FORD       ANALYST         7566 1981-12-03       3000                    20         20 RESEARCH       DALLAS       
      7876 ADAMS      CLERK           7788 1987-07-13       1100                    20         20 RESEARCH       DALLAS       
      7369 SMITH      CLERK           7902 1980-12-17        800                    20         20 RESEARCH       DALLAS       
      7788 SCOTT      ANALYST         7566 1987-07-13       3000                    20         20 RESEARCH       DALLAS       
      7521 WARD       SALESMAN        7698 1981-02-22       1250        500         30         30 SALES          CHICAGO      
      7844 TURNER     SALESMAN        7698 1981-09-08       1500          0         30         30 SALES          CHICAGO      
      7499 ALLEN      SALESMAN        7698 1981-02-20       1600        300         30         30 SALES          CHICAGO      

     EMPNO ENAME      JOB              MGR HIREDATE          SAL       COMM     DEPTNO     DEPTNO DNAME          LOC          
---------- ---------- --------- ---------- ---------- ---------- ---------- ---------- ---------- -------------- -------------
      7900 JAMES      CLERK           7698 1981-12-03        950                    30         30 SALES          CHICAGO      
      7698 BLAKE      MANAGER         7839 1981-05-01       2850                    30         30 SALES          CHICAGO      
      7654 MARTIN     SALESMAN        7698 1981-09-28       1250       1400         30         30 SALES          CHICAGO  
*/

SELECT *
FROM EMP E, DEPT D
WHERE E.DEPTNO = D.DEPTNO;
/*                                                                                 ▼ ▼     ▼ ▼ 
     EMPNO ENAME      JOB              MGR HIREDATE          SAL       COMM     DEPTNO     DEPTNO DNAME          LOC          
---------- ---------- --------- ---------- ---------- ---------- ---------- ---------- ---------- -------------- -------------
      7782 CLARK      MANAGER         7839 1981-06-09       2450                    10         10 ACCOUNTING     NEW YORK     
      7839 KING       PRESIDENT            1981-11-17       5000                    10         10 ACCOUNTING     NEW YORK     
      7934 MILLER     CLERK           7782 1982-01-23       1300                    10         10 ACCOUNTING     NEW YORK     
      7566 JONES      MANAGER         7839 1981-04-02       2975                    20         20 RESEARCH       DALLAS       
      7902 FORD       ANALYST         7566 1981-12-03       3000                    20         20 RESEARCH       DALLAS       
      7876 ADAMS      CLERK           7788 1987-07-13       1100                    20         20 RESEARCH       DALLAS       
      7369 SMITH      CLERK           7902 1980-12-17        800                    20         20 RESEARCH       DALLAS       
      7788 SCOTT      ANALYST         7566 1987-07-13       3000                    20         20 RESEARCH       DALLAS       
      7521 WARD       SALESMAN        7698 1981-02-22       1250        500         30         30 SALES          CHICAGO      
      7844 TURNER     SALESMAN        7698 1981-09-08       1500          0         30         30 SALES          CHICAGO      
      7499 ALLEN      SALESMAN        7698 1981-02-20       1600        300         30         30 SALES          CHICAGO      

     EMPNO ENAME      JOB              MGR HIREDATE          SAL       COMM     DEPTNO     DEPTNO DNAME          LOC          
---------- ---------- --------- ---------- ---------- ---------- ---------- ---------- ---------- -------------- -------------
      7900 JAMES      CLERK           7698 1981-12-03        950                    30         30 SALES          CHICAGO      
      7698 BLAKE      MANAGER         7839 1981-05-01       2850                    30         30 SALES          CHICAGO      
      7654 MARTIN     SALESMAN        7698 1981-09-28       1250       1400         30         30 SALES          CHICAGO      
*/

SELECT *
FROM EMP;
SELECT *
FROM SALGRADE;

--- NON EQUI JOIN : 범위 안에 적합한 데이터들끼리 결합시키는 방식
SELECT *
FROM EMP, SALGRADE
WHERE EMP.SAL BETWEEN SALGRADE.LOSAL AND SALGRADE.HISAL;
/*
  EMPNO ENAME      JOB              MGR HIREDATE          SAL       COMM     DEPTNO      GRADE      LOSAL      HISAL
---------- ---------- --------- ---------- ---------- ---------- ---------- ---------- ---------- ---------- ----------
      7369 SMITH      CLERK           7902 1980-12-17        800                    20          1        700       1200
      7900 JAMES      CLERK           7698 1981-12-03        950                    30          1        700       1200
      7876 ADAMS      CLERK           7788 1987-07-13       1100                    20          1        700       1200
      7521 WARD       SALESMAN        7698 1981-02-22       1250        500         30          2       1201       1400
      7654 MARTIN     SALESMAN        7698 1981-09-28       1250       1400         30          2       1201       1400
      7934 MILLER     CLERK           7782 1982-01-23       1300                    10          2       1201       1400
      7844 TURNER     SALESMAN        7698 1981-09-08       1500          0         30          3       1401       2000
      7499 ALLEN      SALESMAN        7698 1981-02-20       1600        300         30          3       1401       2000
      7782 CLARK      MANAGER         7839 1981-06-09       2450                    10          4       2001       3000
      7698 BLAKE      MANAGER         7839 1981-05-01       2850                    30          4       2001       3000
      7566 JONES      MANAGER         7839 1981-04-02       2975                    20          4       2001       3000
      7788 SCOTT      ANALYST         7566 1987-07-13       3000                    20          4       2001       3000
      7902 FORD       ANALYST         7566 1981-12-03       3000                    20          4       2001       3000
      7839 KING       PRESIDENT            1981-11-17       5000                    10          5       3001       9999
*/

----- EQUI JOIN 시 『+』 를 활용한 결합 방법
SELECT *
FROM TBL_EMP;
SELECT *
FROM TBL_DEPT; 

SELECT *
FROM TBL_EMP E, TBL_DEPT D
WHERE E.DEPTNO = D.DEPTNO;
/*

     EMPNO ENAME      JOB              MGR HIREDATE          SAL       COMM     DEPTNO     DEPTNO DNAME          LOC          
---------- ---------- --------- ---------- ---------- ---------- ---------- ---------- ---------- -------------- -------------
      7369 SMITH      CLERK           7902 1980-12-17        800                    20         20 RESEARCH       DALLAS       
      7499 ALLEN      SALESMAN        7698 1981-02-20       1600        300         30         30 SALES          CHICAGO      
      7521 WARD       SALESMAN        7698 1981-02-22       1250        500         30         30 SALES          CHICAGO      
      7566 JONES      MANAGER         7839 1981-04-02       2975                    20         20 RESEARCH       DALLAS       
      7654 MARTIN     SALESMAN        7698 1981-09-28       1250       1400         30         30 SALES          CHICAGO      
      7698 BLAKE      MANAGER         7839 1981-05-01       2850                    30         30 SALES          CHICAGO      
      7782 CLARK      MANAGER         7839 1981-06-09       2450                    10         10 ACCOUNTING     NEW YORK     
      7788 SCOTT      ANALYST         7566 1987-07-13       3000                    20         20 RESEARCH       DALLAS       
      7839 KING       PRESIDENT            1981-11-17       5000                    10         10 ACCOUNTING     NEW YORK     
      7844 TURNER     SALESMAN        7698 1981-09-08       1500          0         30         30 SALES          CHICAGO      
      7876 ADAMS      CLERK           7788 1987-07-13       1100                    20         20 RESEARCH       DALLAS       
      7900 JAMES      CLERK           7698 1981-12-03        950                    30         30 SALES          CHICAGO      
      7902 FORD       ANALYST         7566 1981-12-03       3000                    20         20 RESEARCH       DALLAS       
      7934 MILLER     CLERK           7782 1982-01-23       1300                    10         10 ACCOUNTING     NEW YORK  
*/
-- → 부서번호를 갖지 못한 직원들과
-- → 소속직원을 갖지 못한 부서들은
-- → JOIN 대상에서 제외된 상황임을 확인~!!!

SELECT *
FROM TBL_EMP E, TBL_DEPT D
WHERE E.DEPTNO = D.DEPTNO;

-- LEFT- JOIN (99)
SELECT *
FROM TBL_EMP E, TBL_DEPT D
WHERE E.DEPTNO = D.DEPTNO(+); --◀◀ (+) 안 붙은 테이블이 메인 테이블(모든 테이블 조회), (+)붙은 테이블은 첨가 테이블
-- 총 19건의 데이터가 결합되어 조회된 상황.
-- 즉, 부서번호를 갖지 못한 사원들(5인)도 모두 조회된 상황~!!!!

/*
EMPNO ENAME      JOB              MGR HIREDATE          SAL       COMM     DEPTNO     DEPTNO DNAME          LOC          
---------- ---------- --------- ---------- ---------- ---------- ---------- ---------- ---------- -------------- -------------
      7934 MILLER     CLERK           7782 1982-01-23       1300                    10         10 ACCOUNTING     NEW YORK     
      7839 KING       PRESIDENT            1981-11-17       5000                    10         10 ACCOUNTING     NEW YORK     
      7782 CLARK      MANAGER         7839 1981-06-09       2450                    10         10 ACCOUNTING     NEW YORK     
      7902 FORD       ANALYST         7566 1981-12-03       3000                    20         20 RESEARCH       DALLAS       
      7876 ADAMS      CLERK           7788 1987-07-13       1100                    20         20 RESEARCH       DALLAS       
      7788 SCOTT      ANALYST         7566 1987-07-13       3000                    20         20 RESEARCH       DALLAS       
      7566 JONES      MANAGER         7839 1981-04-02       2975                    20         20 RESEARCH       DALLAS       
      7369 SMITH      CLERK           7902 1980-12-17        800                    20         20 RESEARCH       DALLAS       
      7900 JAMES      CLERK           7698 1981-12-03        950                    30         30 SALES          CHICAGO      
      7844 TURNER     SALESMAN        7698 1981-09-08       1500          0         30         30 SALES          CHICAGO      
      7698 BLAKE      MANAGER         7839 1981-05-01       2850                    30         30 SALES          CHICAGO      
      7654 MARTIN     SALESMAN        7698 1981-09-28       1250       1400         30         30 SALES          CHICAGO      
      7521 WARD       SALESMAN        7698 1981-02-22       1250        500         30         30 SALES          CHICAGO      
      7499 ALLEN      SALESMAN        7698 1981-02-20       1600        300         30         30 SALES          CHICAGO      
      8005 권지용     SALESMAN        7698 2025-07-02       1000                                                              
      8004 퀸가비     SALESMAN        7698 2025-07-02       2500                                                              
      8003 아만다     SALESMAN        7698 2025-07-02       2000                                                              
      8002 김선호     CLERK           7566 2025-07-02       1000          0                                                   
      8001 아이유     CLERK           7566 2025-07-02       1500         10                                                   
*/

-- RIGHT-JOIN(99)
SELECT *
FROM TBL_EMP E, TBL_DEPT D
WHERE E.DEPTNO(+) = D.DEPTNO;
-- 총 16건의 데이터가 결합되어 조회된 상황.
-- 즉, 부서에 소속된 사원이 아무도 없는 부서(2부서)도 모두 조회된 상황~!!!
/*
EMPNO ENAME      JOB              MGR HIREDATE          SAL       COMM     DEPTNO     DEPTNO DNAME          LOC          
---------- ---------- --------- ---------- ---------- ---------- ---------- ---------- ---------- -------------- -------------
      7369 SMITH      CLERK           7902 1980-12-17        800                    20         20 RESEARCH       DALLAS       
      7499 ALLEN      SALESMAN        7698 1981-02-20       1600        300         30         30 SALES          CHICAGO      
      7521 WARD       SALESMAN        7698 1981-02-22       1250        500         30         30 SALES          CHICAGO      
      7566 JONES      MANAGER         7839 1981-04-02       2975                    20         20 RESEARCH       DALLAS       
      7654 MARTIN     SALESMAN        7698 1981-09-28       1250       1400         30         30 SALES          CHICAGO      
      7698 BLAKE      MANAGER         7839 1981-05-01       2850                    30         30 SALES          CHICAGO      
      7782 CLARK      MANAGER         7839 1981-06-09       2450                    10         10 ACCOUNTING     NEW YORK     
      7788 SCOTT      ANALYST         7566 1987-07-13       3000                    20         20 RESEARCH       DALLAS       
      7839 KING       PRESIDENT            1981-11-17       5000                    10         10 ACCOUNTING     NEW YORK     
      7844 TURNER     SALESMAN        7698 1981-09-08       1500          0         30         30 SALES          CHICAGO      
      7876 ADAMS      CLERK           7788 1987-07-13       1100                    20         20 RESEARCH       DALLAS       
      7900 JAMES      CLERK           7698 1981-12-03        950                    30         30 SALES          CHICAGO      
      7902 FORD       ANALYST         7566 1981-12-03       3000                    20         20 RESEARCH       DALLAS       
      7934 MILLER     CLERK           7782 1982-01-23       1300                    10         10 ACCOUNTING     NEW YORK     
                                                                                               50 개발부         서울         
                                                                                               40 OPERATIONS     BOSTON       
*/

--※ (+)가 없는 쪽 테이블의 데이터를 모두 메모리에 우선 적재한 후
--   (+)가 있는 쪽 테이블의 데이터를 하나하나 확인하여 결합시키는 형태로
--   JOIN 및 조회가 이루어진다.

SELECT *
FROM TBL_EMP E, TBL_DEPT D
WHERE E.DEPTNO(+) = D.DEPTNO(+);
-- 위와 같은 이유로 이런 형식의 JOIN 구문은 존재하지 않는다.
-- ===> 에러 발생
/*
SQL 오류: ORA-01468: a predicate may reference only one outer-joined table

https://docs.oracle.com/error-help/db/ora-01468/01468. 00000 -  "a predicate may reference only one outer-joined table"
*Cause:    A predicate in the WHERE clause had two columns from
           different tables with "(+)".
*Action:   Change the WHERE clause so that each predicate has a
           maximum of one outer-join table.

More Details :
https://docs.oracle.com/error-help/db/ora-01468/
*/

---------------[2. SQL 1999 CODE]--------------------
--2. SQL 1999 CODE  → 『JOIN』 키워드 등장 →   『JOIN』 유형 명시
--                    결합 조건은 『WHERE』 대신 『ON』
-- CROSS JOIN
SELECT *
FROM EMP CROSS JOIN DEPT;

-- ★★★★
-- INNER JOIN
-- ※ INNER JOIN 시 INNER 는 생략 가능.
        --(EQUI JOIN)
        -- SELECT *
        -- FROM EMP E, DEPT D
        -- WHERE E.DEPTNO = D.DEPTNO;
SELECT *
FROM EMP E INNER JOIN DEPT D
ON E.DEPTNO = D.DEPTNO;

SELECT *
FROM EMP E JOIN DEPT D
ON E.DEPTNO = D.DEPTNO;
/*
EMPNO ENAME      JOB              MGR HIREDATE          SAL       COMM     DEPTNO     DEPTNO DNAME          LOC          
---------- ---------- --------- ---------- ---------- ---------- ---------- ---------- ---------- -------------- -------------
      7782 CLARK      MANAGER         7839 1981-06-09       2450                    10         10 ACCOUNTING     NEW YORK     
      7839 KING       PRESIDENT            1981-11-17       5000                    10         10 ACCOUNTING     NEW YORK     
      7934 MILLER     CLERK           7782 1982-01-23       1300                    10         10 ACCOUNTING     NEW YORK     
      7566 JONES      MANAGER         7839 1981-04-02       2975                    20         20 RESEARCH       DALLAS       
      7902 FORD       ANALYST         7566 1981-12-03       3000                    20         20 RESEARCH       DALLAS       
      7876 ADAMS      CLERK           7788 1987-07-13       1100                    20         20 RESEARCH       DALLAS       
      7369 SMITH      CLERK           7902 1980-12-17        800                    20         20 RESEARCH       DALLAS       
      7788 SCOTT      ANALYST         7566 1987-07-13       3000                    20         20 RESEARCH       DALLAS       
      7521 WARD       SALESMAN        7698 1981-02-22       1250        500         30         30 SALES          CHICAGO      
      7844 TURNER     SALESMAN        7698 1981-09-08       1500          0         30         30 SALES          CHICAGO      
      7499 ALLEN      SALESMAN        7698 1981-02-20       1600        300         30         30 SALES          CHICAGO      
      7900 JAMES      CLERK           7698 1981-12-03        950                    30         30 SALES          CHICAGO      
      7698 BLAKE      MANAGER         7839 1981-05-01       2850                    30         30 SALES          CHICAGO      
      7654 MARTIN     SALESMAN        7698 1981-09-28       1250       1400         30         30 SALES          CHICAGO      

*/


-- SELECT *
-- FROM EMP, SALGRADE
-- WHERE EMP.SAL BETWEEN SALGRADE.LOSAL AND SALGRADE.HISAL;
SELECT *
FROM EMP E JOIN SALGRADE S
ON E.SAL BETWEEN S.LOSAL AND S.HISAL;

-- OUTER JOIN
            --(LEFT-JOIN)
            -- SELECT *
            -- FROM TBL_EMP E, TBL_DEPT D
            -- WHERE E.DEPTNO = D.DEPTNO(+); 
-- [LEFT-OUTER JOIN]
SELECT *
FROM TBL_EMP E LEFT OUTER JOIN TBL_DEPT D -- LEFT(주연) - (+) 가 없는 테이블
ON E.DEPTNO = D.DEPTNO; 

--※ 방향이 지정된 쪽 테이블(→  LEFT)의 데이터를 메모리에 우선 적재한 후
--   방향이 지정되지 않은 쪽 테이블의 데이터를 각각 확인하여 결합시키는 형태로
--   JOIN 및 조회가 이루어진다.

-- [RIGHT-OUTER JOIN]
SELECT *
FROM TBL_EMP E RIGHT OUTER JOIN TBL_DEPT D -- RIGHT(주연) - (+) 가 없는 테이블
ON E.DEPTNO = D.DEPTNO; 


-- [FULL-OUTER JOIN]
SELECT *
FROM TBL_EMP E FULL OUTER JOIN TBL_DEPT D
ON E.DEPTNO = D.DEPTNO; 

----★★
--※ OUTER JOIN 에서 OUTER 는 생략 가능

SELECT *
FROM TBL_EMP E LEFT JOIN TBL_DEPT D  -- OUTER JOIN
ON E.DEPTNO = D.DEPTNO;

SELECT *
FROM TBL_EMP E RIGHT JOIN TBL_DEPT D  -- OUTER JOIN
ON E.DEPTNO = D.DEPTNO;

SELECT *
FROM TBL_EMP E FULL JOIN TBL_DEPT D  -- OUTER JOIN
ON E.DEPTNO = D.DEPTNO;

SELECT *
FROM TBL_EMP E JOIN TBL_DEPT D  -- INNER JOIN
ON E.DEPTNO = D.DEPTNO;

-----

SELECT *
FROM EMP E JOIN DEPT D  -- INNER JOIN
ON E.DEPTNO = D.DEPTNO;

--[바람직하지 않는 쿼리]
SELECT *
FROM EMP E JOIN DEPT D  -- INNER JOIN
ON E.DEPTNO = D.DEPTNO
AND JOB = 'CLERK';  -- ◀◀◀ 바람직하지 않는 방법
/*
     EMPNO ENAME      JOB              MGR HIREDATE          SAL       COMM     DEPTNO     DEPTNO DNAME          LOC          
---------- ---------- --------- ---------- ---------- ---------- ---------- ---------- ---------- -------------- -------------
      7934 MILLER     CLERK           7782 1982-01-23       1300                    10         10 ACCOUNTING     NEW YORK     
      7369 SMITH      CLERK           7902 1980-12-17        800                    20         20 RESEARCH       DALLAS       
      7876 ADAMS      CLERK           7788 1987-07-13       1100                    20         20 RESEARCH       DALLAS       
      7900 JAMES      CLERK           7698 1981-12-03        950                    30         30 SALES          CHICAGO    
*/

-- [바람직한 커리문]
SELECT *
FROM EMP E JOIN DEPT D  -- INNER JOIN
ON E.DEPTNO = D.DEPTNO
WHERE JOB = 'CLERK';
/*
     EMPNO ENAME      JOB              MGR HIREDATE          SAL       COMM     DEPTNO     DEPTNO DNAME          LOC          
---------- ---------- --------- ---------- ---------- ---------- ---------- ---------- ---------- -------------- -------------
      7934 MILLER     CLERK           7782 1982-01-23       1300                    10         10 ACCOUNTING     NEW YORK     
      7369 SMITH      CLERK           7902 1980-12-17        800                    20         20 RESEARCH       DALLAS       
      7876 ADAMS      CLERK           7788 1987-07-13       1100                    20         20 RESEARCH       DALLAS       
      7900 JAMES      CLERK           7698 1981-12-03        950                    30         30 SALES          CHICAGO 
*/


--▣ EMP 테이블과 DEPT 테이블을 대상으로
--   직종이 MANAGER 와 CLERK 인 사원들만 
--   부서번호, 부서명, 사원명, 직종명, 급여 항목을 조회한다.
-----------------[ 강사님 풀이 - START ] ------------------------------
-- 부서번호, 부서명, 사원명, 직종명, 급여
--  ------   -----   ----   ----   -----
--  DEPTNO   DNAME   ENAME  JOB     SAL
--  ------   -----   ----   ----   -----
--   E, D      D       E     E       E



SELECT DEPTNO 부서번호, DNAME 부서명, ENAME 사원명, JOB 직종명, SAL 급여
FROM EMP E , DEPT D
WHERE E.DEPTNO = D.DEPTNO;
-- ==>> 에러 발생
/*
오류 보고 -
SQL 오류: ORA-00918: column ambiguously defined

https://docs.oracle.com/error-help/db/ora-00918/00918. 00000 -  "%s
*/
-- 두 테이블 간 중복되는 컬럼에 대한 소속 테이블을
-- 정해줘야(명시해줘야) 한다.

SELECT D.DEPTNO 부서번호, DNAME 부서명, ENAME 사원명, JOB 직종명, SAL 급여
FROM EMP E , DEPT D
WHERE E.DEPTNO = D.DEPTNO;
-- ==> 두 테이블 간 중복되는 컬럼에 대해 소속 테이블을 명시하는 경우
--     부서(DEPT), 사원(EMP) 중 어떤 테이블을 지정해도
--     쿼리문 수행에 대한 결과 반환에는 문제가 없다.(차이도 없다.)

--※ 하지만...
--   두 테이블 간 중복되는 컬럼에 대한 소속 테이블을 명시하는 경우
--   부모 테이블의 컬럼을 참조할 수 있도록 해야 한다.

SELECT *
FROM EMP;  -- 자식 테이블
SELECT *
FROM DEPT; -- 부모 테이블


-- ※ 부모 자식 테이블 관계를 명확히 정리할 수 있도록 한다.
--          관계컬럼
--  테이블 ------------- 테이블

SELECT D.DEPTNO, DNAME, ENAME, JOB, SAL
FROM EMP E RIGHT JOIN DEPT D
ON E.DEPTNO = D.DEPTNO;

SELECT E.DEPTNO, DNAME, ENAME, JOB, SAL
FROM EMP E RIGHT JOIN DEPT D
ON E.DEPTNO = D.DEPTNO;

SELECT E.DEPTNO 부서번호, DNAME 부서명, ENAME 사원명, JOB 직종명, SAL 급여
FROM EMP E JOIN DEPT D  -- DEPT 테이블이 부모 테이블(중복된 값의 데이터가 없는 테이블)
ON E.DEPTNO = D.DEPTNO
WHERE JOB IN ('MANAGER', 'CLERK');


SELECT E.DEPTNO 부서번호, D.DNAME 부서명, E.ENAME 사원명, E.JOB 직종명, D.SAL 급여
FROM EMP E JOIN DEPT D  -- DEPT 테이블이 부모 테이블(중복된 값의 데이터가 없는 테이블)
ON E.DEPTNO = D.DEPTNO
WHERE JOB IN ('MANAGER', 'CLERK');
--->> 두 테이블 간 중복된 컬럼이 아니더라도...
--     소속 테이블을 명시할 수 있기를 권장한다.

-----------------[ 강사님 풀이 - END ] --------------------------------

-----------------[ 실습 - START ] ----------------------------
SELECT E.*
FROM EMP E;
/*

     EMPNO ENAME      JOB              MGR HIREDATE          SAL       COMM     DEPTNO
---------- ---------- --------- ---------- ---------- ---------- ---------- ----------
      7369 SMITH      CLERK           7902 1980-12-17        800                    20
      7499 ALLEN      SALESMAN        7698 1981-02-20       1600        300         30
      7521 WARD       SALESMAN        7698 1981-02-22       1250        500         30
      7566 JONES      MANAGER         7839 1981-04-02       2975                    20
      7654 MARTIN     SALESMAN        7698 1981-09-28       1250       1400         30
      7698 BLAKE      MANAGER         7839 1981-05-01       2850                    30
      7782 CLARK      MANAGER         7839 1981-06-09       2450                    10
      7788 SCOTT      ANALYST         7566 1987-07-13       3000                    20
      7839 KING       PRESIDENT            1981-11-17       5000                    10
      7844 TURNER     SALESMAN        7698 1981-09-08       1500          0         30
      7876 ADAMS      CLERK           7788 1987-07-13       1100                    20
      7900 JAMES      CLERK           7698 1981-12-03        950                    30
      7902 FORD       ANALYST         7566 1981-12-03       3000                    20
      7934 MILLER     CLERK           7782 1982-01-23       1300                    10
*/

SELECT D.*
FROM DEPT D;
/*

    DEPTNO DNAME          LOC          
---------- -------------- -------------
        10 ACCOUNTING     NEW YORK     
        20 RESEARCH       DALLAS       
        30 SALES          CHICAGO      
        40 OPERATIONS     BOSTON       
*/

SELECT E.DEPTNO 부서번호, DNAME 부서명, ENAME 사원명, JOB 직종명, SAL 급여
FROM EMP E JOIN DEPT D
ON E.DEPTNO = D.DEPTNO
WHERE JOB IN ('MANAGER', 'CLERK');
-----------------[ 실습 - END ] ------------------------------


-- ### --▣ --※ ○ ★ 『』 ? ▣ ◀▶ ▼ ▲ ⓐ ⓑ ① ② ③ ④ ⑤ ⑥ ⑦ ⑧ ⑨ ⑩  →   ←  ↓  …  ： º↑ /* */  ─ ┃ ┛┯ ┐┘ ￦
--/*▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼*/
--/*================[ 7월 XX일(금) ]========================*/

-----------------[ 실습 - START ] ----------------------------
-----------------[ 실습 - END ] ------------------------------

-----------------[ 강사님 풀이 - START ] ------------------------------
-----------------[ 강사님 풀이 - END ] --------------------------------