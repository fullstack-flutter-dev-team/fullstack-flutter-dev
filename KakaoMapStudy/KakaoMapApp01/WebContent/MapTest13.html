<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>MapTest13.html</title>
<script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=앱키"></script>
<script type="text/javascript" src="http://code.jquery.com/jquery.min.js"></script>
<style>

    span {
        font-weight: bold;
        color: blue;
    }
</style>
<script type="text/javascript">
    
    const LAT = 37.5565355;
    const LNG = 126.9195242;

    // 페이지 요청 시 호출
    function initialize()
    {
        container = document.getElementById("map");
        options = 
        {
            center: new kakao.maps.LatLng(LAT, LNG),
            level: 3.
        };
        
        map = new kakao.maps.Map(container, options);

        // 스타벅스 동교점(37.556894, 126.919992)
        // https://www.google.com/maps/place/%EC%8A%A4%ED%83%80%EB%B2%85%EC%8A%A4+%EB%8F%99%EA%B5%90%EC%A0%90/data=!4m9!1m2!2m1!1z7ZmN64yAIOyMjeyaqeq1kOycoeyEvO2EsA!3m5!1s0x357c98dcefb355eb:0x8527c813db40b429!8m2!3d37.5568638!4d126.9199935!16s%2Fg%2F11byttvvx8?entry=ttu&g_ep=EgoyMDI1MTEwNC4xIKXMDSoASAFQAw%3D%3D
        createMarker(37.556894, 126.919992);
        
        clickAction();
    }

    function clickAction()
    {
        kakao.maps.event.addListener(map, "click", function(mouseEvent)
        {
            // 클릭한 지점의 위도, 경도에 대한 정보 가져오기
            var latlng = mouseEvent.latLng;
            
            // 마커 위치를 클릭한 지점으로 이동 check~!!!
            marker.setPosition(latlng);
            
            var message = "클릭한 위치의 <br>위도는 <span>" + latlng.getLat() + "</span> 이고,<br>";
            message += "경도는 <span>" + latlng.getLng() + "</span> 입니다.";
            
            var resultDiv = document.getElementById("result");
            result.innerHTML = message;
        });
    }

    // 마커 위치 변경
    // 마커 다시 생성 함수
    function createMarker(newLAT, newLON)
    {

        // 마커가 표시될 위치 구성
        //-- newLAT(위도), newLON(경도)
        markerPosition = new kakao.maps.LatLng(newLAT, newLON);
        
        // 마커 생성
        marker = new kakao.maps.Marker(
        {
            position: markerPosition,
        });

        // 지도 위의 마커 제거
        marker.setMap(null);
        
        // 마커가 지도에 표시되도록 설정
        marker.setMap(map);
    }
    
    function removeMarker()
    {
        // 지도 위의 마커 제거
        marker.setMap(null);
    }
</script>

</head>
<body onload="initialize()">

<!-- ○ 발급받은 App Key  -->
<!-- appKey=앱키 -->
<!-- ○ 지도의 중심 좌표 -->
<!--  37.5565355,126.9195242 -->

<div>
    <h1>Kakao Map 고정 마커 생성</h1>
    <hr>
</div>

<div id="map" style="width: 100%; height: 350px;"></div>

<p>
    <button type="button" onclick="removeMarker()">마커 제거</button>
    <button type="button" onclick="createMarker()">마커 다시 생성</button>
</p>

<p>
    <h1>지도 클릭으로 좌표 확인 및 해당 위치 마커 표시</h1>
</p>

<div id="result"></div>

</body>
</html>